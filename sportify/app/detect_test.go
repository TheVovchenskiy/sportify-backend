package app

import "testing"

func TestDetect(t *testing.T) {
	testCases := []struct {
		name string
		text string
	}{
		// TODO: rename tests
		{
			"test 1",
			`üìç–ú–∞–Ω–µ–∂ "–°–ø–æ—Ä—Ç–í—Å–µ–≥–¥–∞"
–í—Ä–µ–º—è 21:30-23:00
–ö–æ–≥–¥–∞: 14.10.2024
üìç–º. –ö–æ–Ω—å–∫–æ–≤–æ
–º. –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –î—Ä—É–∂–±—ã –ù–∞—Ä–æ–¥–æ–≤
üîπ3 –∫–æ–º–∞–Ω–¥—ã 6√ó6
üîπ–í–∏–¥–µ–æ, –≤–æ–¥–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
üîπ–í–∑–Ω–æ—Å 1100—Ä.`,
		},
		{
			"test 2",
			`üîª–ï—Å—Ç—å 4 –º–µ—Å—Ç–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—èüîª
üìç–°—Ç–∞–¥–∏–æ–Ω "–Ø—Å–µ–Ω–µ–≤–æ"
üîπ–ú. –Ø—Å–µ–Ω–µ–≤–æ 21:30
üîπ2 –∫–æ–º–∞–Ω–¥—ã 8√ó8
üîπ1,5 —á–∞—Å–∞ –∏–≥—Ä—ã –Ω–æ–Ω-—Å—Ç–æ–ø
üîπ–í–∏–¥–µ–æ—Å—ä—ë–º–∫–∞ –≤—Å–µ–π –∏–≥—Ä—ã + –Ω–∞—Ä–µ–∑–∫–∞ –ª—É—á—à–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤, –≤–æ–¥–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
üîπ–í–∑–Ω–æ—Å 850
‚ùó –ï—Å—Ç—å –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã%
–ö—Ç–æ –≥–æ—Ç–æ–≤ —Å—Ç–∞–≤–∏–º ‚ûï
–ü–æ–ª–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Äüîª
https://footballvmoskve.ru/`,
		},
		{
			"test 3",
			`–ü–∞—Ä–∫ ¬´–°–æ–∫–æ–ª—å–Ω–∏–∫–∏¬ª
–ú–∏—Ç—å–∫–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∑–¥, –¥. 1
–û—Ç–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –≤ –ø–∞—Ä–∫–µ ¬´–°–æ–∫–æ–ª—å–Ω–∏–∫–∏¬ª
–†–∞–∑–º–µ—Ä –ø–æ–ª—è: 50 x 80
–î—É—à–µ–≤—ã–µ, —Ä–∞–∑–¥–µ–≤–∞–ª–∫–∏
–ò–≥—Ä–∞–µ–º 7—Ö7 –∏ 10—Ö10
16 –û–∫—Ç—è–±—Ä—è 21:00-22:30
750‚ÇΩ
1/2 –±–æ–ª—å—à–æ–≥–æ –ø–æ–ª—è, 3 –∫–æ–º–∞–Ω–¥—ã (7—Ö7)`,
		},
		{
			"test 4",
			`–¢—Ä–µ–±—É–µ—Ç—Å—è 5 —á–µ–ª–æ–≤–µ–∫ –¥–ª—è –∏–≥—Ä—ã –≤ —Ñ—É—Ç–±–æ–ª. –ò–≥—Ä–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ –ú–æ—Å–∫–≤–µ. –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –Ω–µ —É–∫–∞–∑–∞–Ω—ã. –¶–µ–Ω–∞ - 1000 —Ä—É–±–ª–µ–π. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å!`,
		},
		{
			"test 5",
			`–ú–µ—Ç—Ä–æ –ß–µ—Ä—Ç–∞–Ω–æ–≤—Å–∫–∞—è, –ß–µ—Ä—Ç–∞–Ω–æ–≤—Å–∫–∞—è —É–ª., 7, –∫–æ—Ä–ø. 3
–§–æ—Ä–º–∞—Ç 9*9
15 –æ–∫—Ç—è–±—Ä—è
2 –∫–æ–º–∞–Ω–¥—ã, –≤—Ä–µ–º—è –∏–≥—Ä—ã 90 –º–∏–Ω—É—Ç
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞ –º–∞—Ç—á–µ
–ú—è—á–∏, –º–∞–Ω–∏—à–∫–∏, –∑–∞–º–æ—Ä–æ–∑–∫–∞ –∏ –≤–æ–¥–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
–í–∏–¥–µ–æ —Å—ä–µ–º–∫–∞ –∫—Ä–∞—Å–∏–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
–†–∞–∑–¥–µ–≤–∞–ª–∫–∏ –∏ –¥—É—à–µ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã
–£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
–¶–µ–Ω–∞ 1200 —Ä—É–±–ª–µ–π`,
		},
		{
			"test 6",
			`–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ï—Å—Ç—å –∂–µ–ª–∞—é—â–∏–µ 16.10 –ø–æ–∏–≥—Ä–∞—Ç—å –Ω–∞ –º–∞–Ω–µ–∂–µ –í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç 32/43,
—É –Ω–∞—Å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω –º–∞–Ω–µ–∂ –Ω–∞ –ø–æ–ª—Ç–æ—Ä–∞ —á–∞—Å–∞ —Å 19:00 –¥–æ 20:30, –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –Ω–∞—Ä–æ–¥—É 3-5 —á–µ–ª–æ–≤–µ–∫ —Ü–µ–Ω–∞ 750 —Ä—É–±–ª–µ–π.`,
		},
	}

	for _, tc := range testCases {
		t.Run(tc.name, func(t *testing.T) {
			actual, err := Detect(tc.text, SportEventRegExps, 3)
			if !actual {
				t.Errorf("Did not return true, err: %q", err)
			}
		})
	}
}
